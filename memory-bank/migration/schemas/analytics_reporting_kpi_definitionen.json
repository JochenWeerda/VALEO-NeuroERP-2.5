{
  "schema": "reporting",
  "name": "kpi_definitionen",
  "primaryKey": null,
  "fields": [
    {
      "name": "id",
      "type": "UUID PRIMARY KEY DEFAULT gen_random_uuid()",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "kpi_name",
      "type": "VARCHAR(200) NOT NULL",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "beschreibung",
      "type": "TEXT",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "warnung_unter",
      "type": "DECIMAL(15",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "warnung_ueber",
      "type": "DECIMAL(15",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "aktiv",
      "type": "BOOLEAN DEFAULT true",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "erstellt_von",
      "type": "UUID NOT NULL REFERENCES personal",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "erstellt_am",
      "type": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "geaendert_von",
      "type": "UUID REFERENCES personal",
      "nullable": true,
      "default": null,
      "constraints": []
    },
    {
      "name": "geaendert_am",
      "type": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
      "nullable": true,
      "default": null,
      "constraints": []
    }
  ],
  "rawSource": "CREATE TABLE reporting.kpi_definitionen (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    kpi_name VARCHAR(200) NOT NULL,\n    beschreibung TEXT,\n    kategorie VARCHAR(100), -- 'FINANZEN', 'PRODUKTION', 'VERKAUF', 'LAGER', etc.\n    berechnungs_formel TEXT NOT NULL, -- SQL-Formel f\u00fcr KPI-Berechnung\n    einheit VARCHAR(50), -- 'EUR', 'STUECK', 'PROZENT', etc.\n    ziel_wert DECIMAL(15,2),\n    warnung_unter DECIMAL(15,2),\n    warnung_ueber DECIMAL(15,2),\n    trend_richtung VARCHAR(20), -- 'AUFWAERTS', 'ABWAERTS', 'NEUTRAL'\n    refresh_intervall INTEGER DEFAULT 300, -- in Sekunden\n    letzter_refresh TIMESTAMP,\n    aktiv BOOLEAN DEFAULT true,\n    erstellt_von UUID NOT NULL REFERENCES personal.mitarbeiter(id),\n    erstellt_am TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    geaendert_von UUID REFERENCES personal.mitarbeiter(id),\n    geaendert_am TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);",
  "table": "reporting.kpi_definitionen"
}
